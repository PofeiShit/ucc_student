# const
主要记录下const修饰是如何从c生成汇编语言的

全局声明如下:

```
const int a;
```
生成未优化的代码:
```
# Code auto-generated by UCC
.data

.comm a,4
.text
```
会在赋值表达式检查报错
```
const int a;
void main()
{
    a = 1; // error
}
```
## 词法分析
---
在keyword.h加入const关键词，token.h增加TK_CONST。

## 语法分析
---
decl.c:

.lex.c的ParseDeclarationSpecifiers函数添加TK_CONST分支解析const。

.增加个AstNode tyQuals节点，语法阶段允许多个const修饰比如 const const const int a;在语义分析阶段报错。语法阶段ok


## 语义分析

declchk.c:

.把语法分析的结果或取出来赋值为qual(这样相同的多个const const const 就只有一个生效).然后赋值给ty域:specs->ty = Qualify(qual, ty);

exprchk.c:

.在CheckAssignmentExpression中检查a是否可以赋值，不能就报错

## 中间代码生成
---

## 汇编代码生成
---