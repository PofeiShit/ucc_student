# continue

continue语句是如何生成汇编的
```
void main()
{
    int a;
    for (a = 0; a < 5; ++a) {
        continue;
    }
}
```
未优化的汇编代码:
```
# Code auto-generated by UCC

.data
.text
.globl	main

main:
	pushl %ebp
	pushl %ebx
	pushl %esi
	pushl %edi
	movl %esp, %ebp
    subl -4, %ebp
// initBB
// goto testBB
.BB0:
    movl $0, -4(%ebp)
    jmp .BB4
// loopBB
.BB1:
    jmp .BB3
.BB2:
// incrBB
.BB3:
    movl -4(%ebp), %eax
    addl $1, %eax
    movl %eax, -4(%ebp)
// testBB
// true goto loopBB
.BB4:
    cmpl $5, -4(ebp)
    jl .BB1
// nextBB:
.BB5:
// exitBB
.BB6:
	movl %ebp, %esp
	popl %edi
	popl %esi
	popl %ebx
	popl %ebp
	ret
```

## 词法分析
---
在keyword.h加入continue关键词，token.h增加TK_CONTINUE。

## 语法分析
---
stmt.c：

.在ParseStatement添加TK_CONTINUE分支调用ParseContinueStatement函数解析continue语句.

## 语义分析
---
stmtchk:

.在Stmtcheckers函数指针数组中添加CheckContinueStatement函数指针，对continue语句进行语义检查。

.AstContinueStatement的target成员指向当前函数的loops的栈顶(loop语句)

## 中间代码生成
---
continue;后直接跳转到loop语句的incrBB,继续执行下一个iteration
```
static void TranslateContinueStatement(AstStatement stmt)
{
	AstContinueStatement contStmt = AsContinue(stmt);
	GenerateJump(contStmt->target->contBB);
	StartBBlock(CreateBBlock());
}
```
## 汇编代码生成
---